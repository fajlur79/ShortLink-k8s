image:
    repository: 013416764691.dkr.ecr.ap-south-1.amazonaws.com/shortlink-app
    pullPolicy: Always
    tag: "latest"

config:
    baseUrl: "https://shorts.codes.local"
    redisUrl: "redis://shortlink-redis-master:6379"

reader:
    enabled: true
    replicaCount: 2
    resources:
        requests:
            cpu: "100m"
            memory: "128Mi"
        limits:
            cpu: "200m"
            memory: "256Mi"

    livenessProbe:
        httpGet:
            path: /health
            port: 80
        initialDelaySeconds: 30
        periodSeconds: 10
    readinessProbe:
        httpGet:
            path: /health
            port: 80
        initialDelaySeconds: 5
        periodSeconds: 5

writer:
    enabled: true
    replicaCount: 1
    resources:
        requests:
            cpu: "100m"
            memory: "128Mi"
        limits:
            cpu: "200m"
            memory: "256Mi"
    livenessProbe:
        httpGet:
            path: /health
            port: 80
        initialDelaySeconds: 30
        periodSeconds: 10
    readinessProbe:
        httpGet:
            path: /health
            port: 80
        initialDelaySeconds: 5
        periodSeconds: 5

redis:
    enabled: true
    architecture: standalone
    auth:
        enabled: false
    master:
        persistence:
            enabled: false

    image:
        registry: public.ecr.aws
        repository: bitnami/redis

ingress:
    enabled: true
    className: "nginx"
    annotations:
        nginx.ingress.kubernetes.io/limit-rps: "10"
        nginx.ingress.kubernetes.io/limit-burst: "20"
        nginx.ingress.kubernetes.io/proxy-body-size: "8m"
    hosts:
        - host: ""
          paths:
              - path: /
                pathType: Prefix
